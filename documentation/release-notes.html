<!-- $File: //depot/sw/epics/kryten/documentation/release-notes.html $ -->
<!-- $Revision: #7 $ -->
<!-- $DateTime: 2015/11/01 16:34:18 $ -->
<!-- Last checked in by: $Author: andrew $ -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>Kryten Release Notes</title>

<style type ="text/css">
   logo     { color : #00C000 ; }
   red      { color : #FF0000 ; }
</style>

</head>

<body  bgcolor="#FFF0E0" text="#201000"
       link="#0000FF"    vlink="#E000E0"  alink="#FF0000" >

<h1>Release Notes</h1>

<h2>kryten-2.1.7</h2>
Several new features for this release.
<p>
Introduced the --monitor, -m option that allows the configuration "file" to be specified as
as single command line argument to kryten.
<p>
Mainly to support the command line configuration specification, multiple channel monitoring
specifications can be specified on one line, separated by a semi-colon (;) symbol.
<p>
Added a builit in quit command that terminates kryten. This takes an option intergere parameter
that can be used as the exit code.
<p>
A channel monitoring specification value can now be qualified with "&gt;=", "&gt;", "&lt;", "&lt;=" and "/=".
The previously implied "=" qualifier may now also be explicit.
<p>
Exit codes from sig int and sig term are now the same as if these signals were not caught.
<p>
These may all be combined thus:
<pre>
   kryten -m "SR11BCM01:CURRENT_MONITOR  &lt; 180.0 quit 6 ; SR11BCM01:LIFETIME_MONITOR  &lt; 16.0 quit 8"
</pre>
kryten will run until either the first PV drops below 180.0 or the second drops below 16.0 and will terminate
with exit code 6 or 8 respectively.
<p>

<h2>kryten-2.1.6</h2>
Cosmetic fixes - tidied up the help info.
<p>

<h2>kryten-2.1.5</h2>
Cosmetic fixes - proper colour reset, removal of double "the the" in output messages.
<p>

<h2>kryten-2.1.4</h2>
Included the EPICS base version as part of the kryten version.

<p>
Minor help info typo fixes.

<h2>kryten-2.1.3</h2>
The specified command may now be given optional arbtary parameters.
These include the format convertion characters %p, %e, %m and %v
corresponding to PV name, element index, match status and value respectively.

<p>
The match status is now 'match'/'reject' - was previously 'entry'/'exit'.

<p>
Revamped the kryten.html documentation file.

<p>
After 2 seconds <logo>kryten</logo> now issues connection timeout messages
for any channel that is not connected.

<p>
The format of some warning messages have been modified (essentially cosmetic).

<p>
Internal code re-organisation/rationalisation.

<h2>kryten-2.1.2</h2>

<logo>kryten</logo> terminates if the configuration file does not specify any PVs.

<p>
In verbose mode <logo>kryten</logo> outputs its interpretation of the configuration file.

<p>
This version is more tolerant when parsing te configuration file.
White space is now allowed between the sub-fields of the match criteria.
<font size="4"><pre>

# White space now allowed   -----+--+---+-+----+-+
#                                |  |   | |    | |
#                                v  v   v v    v v
SR11BCM01:LIFETIME_MONITOR   -1.0 ~  5.0 | 50.0 ~ 100.0    echo

# Whereas previously had to be like this:
#
SR11BCM01:LIFETIME_MONITOR   -1.0~5.0|50.0~100.0           echo

# end
</pre></font>

<p>
An optional index values may now be specified (for waveform and other array PVs).
The default is [1], which specifies the first element 
(<logo>kryten</logo> numbers array elements from 1 to N as oppossed to the C style 0 to N-1).
If there are less elements in the array than the specified index value then the PV is ignored.<br>
Example:
<font size="4"><pre>

# Monior the third element of the array for being a prime less than 32.
#
SOME_WAVEFORM:ARRAY [3]   2 ~ 3 | 5 | 7 | 11 | 13 | 17 | 19 | 23 | 31  /home/user/bin/prime.sh
</pre></font>

<p>
The command script or program should now expect four parameters - the (new) 4th parameter is
the element index.
<p>
Created this Release Notes file.

<h2>kryten-2.1.1</h2>

First C code version of <logo>kryten</logo>.

<h2>kryten-1.1</h2>

Unreleased prototype version of <logo>kryten</logo> implemented using bash script and camonitor.

<br>
<br>

</body>
</html>

